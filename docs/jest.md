# jest로 테스트 코드 작성하기

jest는 페북에서 만든 테스팅 라이브러리 입니다.

ALL-in-one 테스팅 라이브러리

테스팅 프레임워크

첫 테스트 코드 작성

```
test("테스트 설명", () => {
    expect("검증 대상").toXxx("기대 결과");
})
```

toXxx 부분에서 사용되는 함수를 흔히 Test Matcher라고 합니다.
toBe() 함수는 숫자나 문자와 같은 객체가 아닌 기본형(원시타입) 값을 비교할 때 사용됩니다.

그리고 npm test를 실행하면 프로젝트 내에 모든 테스트 파일을 찾아서 테스트를 실행해줍니다. Jest는 기본적으로 test.js로 끝나거나, **test** 디렉터리 안에 있는 파일들은 모두 테스트 파일로 인식합니다. 만약 특정 테스트 파일만 실행하고 싶은 경우에는 npm test <파일 명이나 경로>를 입력하면 됩니다.

## 자주 사용되는 Matcher

Jest에서는 거의 상상 가능한 모든 경우에 대한 Matcher 함수를 제공하고 있습니다.
실전에서 많이 사용되는 Matcher 정리

toEqual()
다음과 같이 아이디를 넘기면 가짜 유저 객체를 리턴하는 함수를 테스트 하려고 합니다.

```
function getUser(id) {
    return {
        id,
        email: `user${id}@test.com`,
    };
}
```

toBe() 함수를 사용하면 테스트는 실패합니다.

```
test("유저 객체 리턴", () => {
    expect(getUser(1)).toBe({
        id: 1,
        email: `user1@test.com`,
    })
});
```

주요 matcher 함수
당연하지만 모든 matcher를 외우는 것은 비효율적인 일이고, 아래의 matcher들로도 대부분의 평가가 가능할 것이라 생각됩니다.
(이보다 복잡한 matcher가 필요하다면 공식 문서에서 확인하는 것을 추천드립니다!)

toBeDefined() 함수 : 값이 undefined 가 아닌지 검사한다. (주로 가장 먼저 검사한다!)
toBe() 함수 : 원시형 데이터를 비교한다.
toEqual() 함수 : 참조형 데이터를 깊은 비교를 통해 비교한다.
toBeTruthy() 함수 : 값이 참인지를 검사한다.
.toContain() 함수 : 특정 요소가 배열 안에 존재하는지를 검사한다.
not : 다른 매쳐 함수 앞에 체이닝해 사용하며, 해당 값의 반대값이 참인지를 검사한다.
주의 : not 은 함수가 아닌 프로퍼티입니다!
