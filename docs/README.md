# 2주차 미션 - 숫자 야구 게임

<br>

## [작성자] : 김동우(DongWooKim97)

<br>

## 📁 디렉토리 구조

```plaintext
...
├── .eslintrc
├── .gitignore
├── .npmrc
├── .prettierrc
├── README.md
├── package-rock.json
├── package.json
├── docs ----------> 구현할 기능 목록을 모아놓은 폴더
│   └── README.md -> 구현할 기능 목록을 작성하는 문서
├── __tests__ ------------------------> 작성한 코드를 테스트할 파일을 모아놓은 폴더
│   ├── AplicationTest.js ------------> 전반적인 숫자 야구 게임 진행을 확인하는 테스트 파일
│   ├── StringTest.js ----------------> 문자열에 관련된 테스트 파일
│   ├── TotalFunction.test.js --------> 숫자 야구 게임에 진행되는 동안의 유저의 입력과 이에 대한 출력을 테스트하는 파일
│   ├── GetComputerInput.test.js -----> 컴퓨터의 랜덤 숫자 생성과정을 테스트하는 파일
│   ├── GetScore.test.js -------------> 입력값에 의한 볼/스트라이크 카운팅을 테스트하는 파일
│   ├── GetUserInput.test.js ---------> 유저의 입력값이 예외처리 테스트를 통과하는지 테스트하는 파일
│   └── UserInputValidation.test.js --> 유저의 입력값을 예외 및 에러를 테스트하는 파일
│
├── src
    │
    ├── App.js -> 게임을 진행하는 모듈을 호출하는 메인 모듈
    │
    ├── play ---------------> 게임 진행과 관련된 클래스(모듈)를 모아놓은 폴더
    │   ├── Play.js --------> 게임을 진행하는 클래스
    │   └── GetScore.js ----> 게임의 결과(볼/스트라이크)를 카운트하는 클래스
    │
    ├── input ---------------------> Computer/USER의 인풋과 관련된 클래스(모듈)를 모아놓은 폴더
    │   ├── GetComputerInput.js ---> Computer의 입력값을 생성하는 클래스
    │   ├── GetUserInput.js -------> User의 입력값을 이용하여 점수를 판별하는 클래스
    │   └── UserInputValid.js -----> User의 입력값에 대해 올바른지 확인하는 클래스
    │
    └── utils --------------> 재사용 모듈에 관련된 폴더
        └── Mission.js -----> MissionUtils와 고정된 게임 결과 출력문의 상속을 통해 재사용성을 증대시키기 위한 클래스
...
```

<br>

## 📝 구현할 기능 목록

- **✔️ 1. 컴퓨터의 숫자 생성 기능**

  - 1 ~ 9 사이의 숫자 중 중복되는 숫자 없이 생성
  - `@woowacourse/mission-utils.Random.pickNumberInRange`사용
    - 중복값이 없어야 하기 때문에 배열에 속해있지 않은 숫자만 `push`
    - 1 2 3 🙆‍♂️ / 1 1 3 🙅‍♂️

<br>

- **✔️ 2. 유저의 숫자 입력 기능**

  - `MissionUtils.Console.readLine()`를 통해 콘솔창으로부터 직접 입력받게 유도.
  - 컴퓨터와 마찬가지로, 숫자 야구 게임의 룰대로 입력받아야함
    - 1 2 3 🙆‍♂️ / 1 1 3 🙅‍♂️

<br>

- **✔️ 3. 컴퓨터의 숫자와 유저의 숫자 자릿수 비교 기능**

  - 랜덤으로 만든 컴퓨터의 숫자와 입력받은 숫자를 자리수마다 비교하는 기능 생성.
    - ex) 💻 : [782] / 👩 : [139] -> `0번째 인덱스 자릿수 : PC / 1번째 인덱스 자릿수 : PC / 2번째 인덱스 자릿수 : User`

<br>

- **✔️ 4. 볼/스트라이크 카운트 기능**

  - 자릿수의 비교를 통해 볼과 스트라이크를 카운트 하는 기능 생성
  - 입력받은 숫자를 자릿수별로 분리한 배열로 만들고, 각 배열의 로직을 통해이에 대해 볼/스트라이크를 카운트!
    - 스트라이크 : `reduce`함수를 통해, 유저 배열을 순회하고, 유저의 해당 인덱스 값과 PC의 해당 인덱스 값이 같을때 ❗️
    - 볼 : `reduce`함수를 통해, 유저 배열을 순회하고, 유저의 해당 인덱스 값이 PC 배열에 속해 있지만, 해당 인덱스의 값이 아닐 때 ❗️
  - ex) 💻 : [456] / 👩 : [549] -> `2볼` 🔥
  - ex) 💻 : [456] / 👩 : [469] -> `1볼 1스트라이크` 🔥

<br>

- **✔️ 5. 입력받은 유저의 에러 및 예외 처리 기능**

  - **기능 2번**에서 처럼, 숫자 야구 게임의 룰대로 입력되었는지 확인하고 예외 및 에러 발견시 처리하는 기능.

  ```javascript
    1) 숫자 외에 다른 입력 형태 [영어, 한글, 특수문자 등등]인지 확인 ❗️ => checkInputType()
    2) 3자리의 숫자 이 외의 범위 [number.length !==3] 확인 ❗️ => checkValidLength()
    3) 각 자리의 숫자가 1 ~ 9 사이의 숫자인지 확인 ❗️ => checkValidScope()
    4) 각 자리의 값을 비교하여 중복된 값이 있는지 확인 ❗️ => checkDuplicate()
  ```

<br>

- **✔️ 6. 전반적 게임을 통제하고, 재시작하는 기능**

  - 새로운 class `PlayGame`을 만들어, 컴퓨터의 숫자와 유저의 숫자를 입력받고, 스코어를 확인하는 전체적인 기능

    - `@woowacourse/mission-utils`의 특성상, 이 모듈을 사용하게되면 `Console.close()`를 사용하지 않는 이상 종료가 안되는 것을 확인
    - -> ❗️ 따라서 컴퓨터의 난수를 먼저생성하고, 유저의 숫자를 입력받는 순간부터 재시작을 원하지않고 종료시까지 한 기능에서 실행해야함 ❗️

  - class `PlayGame`에는 4가지의 메소드가 존재.
    - 1. 본격적으로 게임을 시작하기 전, 컴퓨터의 랜덤 숫자를 생성하고 전달하는 메소드 => `gameReady()`
    - 2. 전달받은 컴퓨터의 숫자와 입력한 유저의 숫자를 통해 실질적 게임을 진행하는 메소드 => `gameStart()`
    - 3. 두 숫자의 비교를 통해, 볼/스트라이크 카운트를 출력시키고, 재시작 여부를 묻는 메소드로 연결하는 메소드 => `printMessage()`
    - 4. 정답을 맞추고, 재시작 여부를 확인하여 게임 종료 / 재시작을 실행시키는 메소드 => `askOpinionForRestart`

<br>

- **✔️ 7. 재사용성을 위한 상속받는 기능**

  - 새로운 class `Mission`을 만들어, `@woowacourse/Mission-utils` 라이브러리에 대한 재사용성을 증대시키는 기능.
  - 또한 전역적으로 필요한 문자열(ex."3스트라이크 / 3개의 숫자를 모두 맞히셨습니다!" "게임 종료")에 대한 재사용성을 증대시키는 기능

  - `@woowacourse/Mission-utils`의 특성상, 다양한 곳에서 새롭게 호출하여 사용해야할 빈도가 잦음.
  - 또한 게임 결과에 대한 문자열 출력은 입력이 이루어질 때 마다 필요하기에 빈도가 잦음.

  - 따라서, `Mission` 클래스의 생성자에 `Mission.Random`과 `Mission.Console`을 작성하여 재사용성을 증대.
  - 게임 결과에 대한 출력문을 상수로 작성하여 재사용성을 증대.

<br>

- **✔️ 8. 각 클래스 및 메소드 테스트 기능**

  - 내가 작성한 코드가 올바르게 작동하고 올바른 입/출력이 이루어지는지 확인하는 기능.

    - 테스트를 하기 위해 `jest`사용.

    - `jest`란 코드가 제대로 동작하는 지 기능 단위로 Test Case를 만들어 테스트 하는 테스팅 프레임워크이다.

  - 테스트 파일은 전체적 흐름과 개별적 흐름 으로 구성

    - 전체적 흐름 : `TotalFunction.test.js` => 숫자 야구 게임에 대한 전체적인 흐름과 입력에 따른 적절한 출력 등을 파악하기 위함.

    - 개별적 흐름 : `클래스명.test.js` => 기능별로 단위를 테스트하고, 고의적으로 올바른 코드와 올바르지 않은 코드를 작성후 테스트하여, 실행결과가 결과값과 일치하는지 파악하기 위함.
