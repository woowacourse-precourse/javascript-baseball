## 🎯주제

> 1부터 9까지의 서로 다른 수들로 이루어진 3자리의 숫자를 맞추는 게임!

<br/>

## 🚀 프로그램 기능 흐름

1. 컴퓨터가 1부터 9까지의 수 중 3개의 수를 중복되지 않게 선택하여 하나의 숫자로 만든다.
2. 사용자에게 1부터 9까지의 서로 다른 수들로 이루어진 3자리의 숫자를 입력 받는다.
3. 컴퓨터가 만들어낸 숫자와 사용자가 입력한 숫자를 비교하여 결과를 계산한다.
4. 정답이 아니라면 `스트라이크`, `볼`, `낫싱`으로 이루어진 힌트를 출력한 후 게임을 계속 진행한다.
5. 정답을 맞췄다면 `"3개의 숫자를 모두 맞히셨습니다! 게임 종료"`를 출력한 후 게임을 종료시킨다.
6. 게임 종료 후 `"게임을 새로 시작하려면 1, 종료하려면 2를 입력하세요."`를 출력한 후 사용자의 입력에 맞게 재시작 여부를 결정한다.

<br/>

## 📖 기능 목록

1. 컴퓨터가 랜덤한 수를 생성하는 기능
2. 사용자에게 숫자를 입력받는 기능
3. 사용자의 입력 숫자가 유효한 숫자인지 판별하는 기능 (게임 진행 중)
4. 사용자의 입력 숫자가 유효한 숫자인지 판별하는 기능 (게임 종료 후)
5. 컴퓨터의 숫자와 사용자의 숫자를 비교해 힌트를 계산하는 기능
6. 게임을 지속적으로 이어나갈 수 있게 하는 기능 (반복)
7. 게임 종료 이후 재시작 여부를 결정하는 기능
8. 이전 게임에서 사용된 변수들의 값을 리셋 하는 기능

<br/>

## 🧭 기능 구현 방향성

- 기능을 구현할 때마다 구현 방향성 작성하기

> ### 📌 전체적인 구현 방향성
>
> 1️⃣ Computer 클래스를 통해 컴퓨터가 생성하는 랜덤 숫자를 관리한다.
>
> 2️⃣ BaseballGame 클래스를 통해 게임 진행을 관리한다.
>
> 3️⃣ BaseballGame 클래스 내부에 Computer 클래스를 생성하여 생성된 랜덤 숫자와 사용자 입력을 비교하며 게임을 진행한다.
>
> 4️⃣ App의 play 메서드를 통해 게임을 시작한다.

<br/>

1. 컴퓨터가 랜덤한 수를 생성하는 기능
   - 배열 선언
   - `MissionUtils.Random.pichNumberInRange(1,9)`를 통해 랜덤 숫자 생성
   - 생성된 숫자가 배열에 존재하면 다시 생성 / 없다면 배열에 추가
   - join메서드를 사용하여 배열을 문자열 형태로 반환

<br/>

2. 사용자에게 숫자를 입력받는 기능
   - `MissionUtils.Console.readLine`을 통해 숫자를 입력해 게임 로직 실행
     - `handleInputDuringGame`메서드
       - 게임 진행 로직을 실행하기 위해 사용자 입력을 다루는 메서드
       - 입력: 사용자 입력값
       - 출력: X
       - `getHint`를 통해 반환된 hint가 `3스트라이크`와 일치하는지 판별
       - 일치한다면 `recommendRestart`메서드 호출
       - 불일치한다면 `getUserInput`호출
     - `handleInputAfterEndGame`메서드
       - 게임 진행 후 재시작 여부를 결정하기 위해 사용자 입력을 다루는 메서드
       - 입력: 사용자 입력값
       - 출력: X
       - 입력값이 1, 2에 속하지 않는다면 에러 발생
       - 입력값이 1이면 `restartGame`메서드 호출
       - 입력값이 2면 `MissionUtils.Console.close`호출하여 게임 종료

<br/>

1. 사용자의 입력 숫자가 유효한 숫자인지 판별하는 기능 (게임 진행 중)

   - `getIsInputValueValid` 모듈 추가
   - 입력값이 세 글자인지 확인하는 함수 추가
   - 입력값에 중복되는 값이 있는지 확인하는 함수 추가
   - 입력값에 숫자가 아닌 값이 있는지 확인하는 함수 추가
   - 위 세 함수의 반환값 중 하나라도 true가 있다면 false 반환 / 없다면 true 반환

<br/>

4. 사용자의 입력 숫자가 유효한 숫자인지 판별하는 기능 (게임 종료 후)
   - "1", "2"를 갖는 배열 선언
   - 입력값이 배열에 속하지 않는다면 에러 발생

<br/>

5. 컴퓨터의 숫자와 사용자의 숫자를 비교해 힌트를 계산하는 기능
   - `getHint` 모듈 추가
     - 입력값: 컴퓨터 숫자, 사용자 입력 숫자
     - 출력값: 힌트 문자열
     - strikeCount, ballCount 변수를 선언한다.
     - countStrike 함수와 countBall 함수로 스트라이크, 볼 개수를 계산해 srikeCount, ballCount 변수에 대입한다.
     - strikeCount, ballCount 변수를 `convertCountToHintString` 함수의 인자로 전달한다.
     - 반환된 힌트 문자열을 리턴한다.
   - `convertStringToArray` 함수 추가
     - 입력값: 문자열
     - 출력값: 배열
     - String의 split 메서드를 사용하여 배열로 분리한다.
   - `countStrike` 함수 추가
     - 입력값: 컴퓨터 숫자, 사용자 입력 숫자
     - 출력값: 스트라이크 개수
     - count 변수를 0으로 초기화 하여 선언한다.
     - 컴퓨터 숫자와 사용자 숫자를 `convertStringToArray` 함수를 사용하여 배열로 변환한다.
     - i를 0부터 3전까지 증가시키는 반복문을 사용하여 변환된 각 배열의 값을 비교한다.
     - 서로 같은 수라면 count 변수에 1을 더해준다.
     - count를 리턴한다.
   - `countBall` 함수 추가
     - 입력값: 컴퓨터 숫자, 사용자 입력 숫자, 스트라이크 개수
     - 출력값: 볼 개수
     - filter 메서드를 사용해 컴퓨터 숫자 중 사용자 입력 숫자와 일치하는 숫자만을 남긴 배열을 만든다.
     - 앞에서 만든 배열의 크기에서 스트라이크 개수를 뺀 후 그 값을 리턴한다.
   - `convertCountToHintString` 함수 추가
     - 입력값: 볼 개수, 스트라이크 개수
     - 출력값: 힌트 문자열
     - 빈 문자열 변수 hint를 선언한다.
     - 볼 개수가 0 이상이라면 `${ballCount}볼`을 힌트 문자열에 추가한다.
     - 스트라이크 개수가 0 이상이라면 `${strikeCount}스트라이크`를 힌트 문자열에 추가한다.
     - 만약 두 값이 모두 0 이라면 `낫싱`을 힌트 문자열에 추가한다.
     - hint를 리턴한다.

<br/>

6. 게임을 지속적으로 이어나갈 수 있게 하는 기능 (반복)

   - `MissionUtils.Console.readLine` 를 통해 사용자의 입력값을 받아온다.
   - 입력값을 `handleInputDuringGame`에 전달한다.
   - 입력된 입력값과 `Computer`의 `correctNumber`를 `getHint`의 인자로 전달해 반환 값을 `hint`에 대입한다.
   - `hint`를 출력한다.
   - `hint`와 `3스트라이크`가 불일치하면 `getUserInput()`함수 다시 호출

<br/>

1. 게임 종료 이후 재시작 여부를 결정하는 기능
   - BaseBallGame 클래스에 `recommendRestart` 메서드 추가
   - `getUserInput()`에서 재귀 호출 조건에 걸리지 않았을 때 `recommendRestart`호출
     - `3개의 숫자를 모두 맞히셨습니다! 게임 종료` 문구를 출력한다.
     - `MissionUtils.Console.readLine`을 통해 사용자에게 값을 입력 받는다
     - 1이 입력된 경우 `restartGame()`호출
     - 2가 입력된 경우 `MissionUtils.Console.close()`를 호출해 게임 종료

<br/>

1. 이전 게임에서 사용된 변수들의 값을 리셋 하는 기능
   - `computer` 클래스의 `setNewCorrectNumber` 메서드 호출하여 랜덤 숫자 교체

<br/>

## 🚨 예외 경우

1. 사용자의 입력값 (게임 진행 중)
   - 입력값이 세 글자가 아닐 경우
   - 입력값에 중복되는 숫자가 있을 경우
   - 입력값이 숫자가 아닌 경우
2. 사용자의 입력값 (게임 종료 후)
   - 입력값이 1, 2 이외의 값일 경우

<br/>

## ✏️ 추가한 테스트 코드

- 테스트 코드를 추가할 때마다 작성하기

- Computer 클래스 랜덤 숫자 생성 기능 테스트
- 입력값 유효성 판별 기능 테스트(게임중)
- 입력값 유효성 판별 기능 테스트(게임후)
- 힌트 산출 기능
